{"version":3,"sources":["modules/frame/frame.module.css","modules/footer/footer.module.css","modules/footer/components/pure/footer-title/footer-title.module.css","modules/shared/assets/svg/logo.svg","modules/shared/assets/svg/stripes.svg","modules/body/body.module.css","modules/header/header.module.css","modules/app/app.module.css","modules/frame/frame.module.tsx","modules/frame/frame.helper.ts","modules/shared/shared.module.helper.ts","modules/frame/components/pure/frame-skelethon.pure.tsx","modules/body/body.module.tsx","modules/header/header.module.tsx","modules/footer/components/pure/footer-title/footer-title.pure.tsx","modules/footer/components/pure/footer-content/footer-content.pure.tsx","modules/footer/footer.module.helper.ts","modules/footer/footer.module.tsx","modules/viewport-tracker/viewport-tracker.module.tsx","modules/viewport-tracker/viewport-tracker.module.helper.ts","modules/app/app.module.tsx","serviceWorker.js","index.tsx"],"names":["module","exports","Frame","props","state","root","React","rootElement","this","current","Error","window","ownerDocument","defaultView","TypeError","element","setViewportVH","event","viewportVH","target","innerHeight","style","setProperty","onWindowResize","pageYOffset","scrollTo","top","left","behavior","resizeSubscription","fromEvent","pipe","tap","subscribe","setState","dispatchEvent","Event","unsubscribe","children","spacerProps","spacer","styles","ref","className","isArray","object","constructor","name","SharedHelper","FrameSkelethon","header","body","footer","frameStyles","Body","Header","FooterTitle","logo","src","Logo","FooterContent","getVariable","variable","of","getComputedStyle","getPropertyValue","trim","split","red","green","blue","getUpdatedColorSegment","highBoundary","lowBoundary","ratio","Math","round","subscribeToRatioFlow","ratioFlow","setBackgroundColor","high","low","setColor","Footer","rootRef","isSecondRender","targetRef","classnames","title","content","creators","ratioSubscription","ViewportTracker","targetElement","targetDocument","toHeightInViewport","elementSize","getBoundingClientRect","isElementAboveViewport","bottom","isElementUnderViewport","height","outOfViewport","abs","toRatio","value","distinctAndOneMore","previousValue","targetElementHeight","isEqualToPrevious","passive","throttleTime","debounceTime","map","filter","App","targetProps","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.4b2085f4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"frame_root__3Jn0L\",\"header\":\"frame_header__1uW4Y\",\"body\":\"frame_body__QNcwh\",\"footer\":\"frame_footer__CHrPb\",\"spacer\":\"frame_spacer__22Ovt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"footer_root__vTYfq\",\"title\":\"footer_title__3202Q\",\"content\":\"footer_content__1peJ5\",\"creators\":\"footer_creators__36wj9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"footer-title_root__3Nowx\",\"logo\":\"footer-title_logo__2AaRJ\"};","module.exports = __webpack_public_path__ + \"static/media/logo.65dfa581.svg\";","module.exports = __webpack_public_path__ + \"static/media/stripes.a3f9386f.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"body_root__33Tic\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"header_root__aytLa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"app_root__xVjNw\"};","import * as React from 'react';\nimport { fromEvent } from 'rxjs';\nimport { tap } from 'rxjs/operators';\n\nimport { getOperatorsOf } from './frame.helper';\nimport {\n  Props,\n  State,\n  SpacerProps,\n} from './frame.module.types';\nimport styles from './frame.module.css';\n\nexport class Frame extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      root: React.createRef(),\n    };\n  }\n\n  componentDidMount() {\n    const {\n      root: {\n        current: rootElement,\n      },\n    } = this.state;\n\n    if (rootElement === null) {\n      throw new Error('\\'rootElement\\' is null.');\n    }\n\n    const window = rootElement.ownerDocument?.defaultView;\n\n    if (!window) {\n      throw new TypeError('it\\'s impossible, but your root\\'s \"window\" is null or undefined. (O_O;)');;\n    }\n\n    const {\n      setViewportVH,\n      onWindowResize,\n    } = getOperatorsOf(rootElement);\n\n    const resizeSubscription = fromEvent<React.ChangeEvent<Window>>(window, 'resize')\n      .pipe(\n        tap(setViewportVH))\n      .subscribe(onWindowResize);\n\n    this.setState({ resizeSubscription });\n\n    window.dispatchEvent(new Event('resize'));\n  }\n\n  componentWillUnmount() {\n    const { resizeSubscription } = this.state;\n\n    resizeSubscription && resizeSubscription.unsubscribe();\n  }\n\n  render() {\n    const { children } = this.props;\n    const { root } = this.state;\n\n    const spacerProps: SpacerProps = {\n      spacer: styles.spacer,\n    };\n\n    return (\n      <div ref={root} className={styles.root}>\n        {children(spacerProps)}\n      </div>\n    );\n  }\n}","export const getOperatorsOf = (element: HTMLDivElement) => ({\n  setViewportVH: (event: React.ChangeEvent<Window>) => {\n    const window = event.target;\n    const viewportVH = window.innerHeight * 0.01;\n\n    // DOTO: Take out a function to Shared module\n    element.style.setProperty('--viewportVH', `${viewportVH}px`);\n  },\n  onWindowResize: (event: React.ChangeEvent<Window>) => {\n    const window = event.target;\n    const isViewportOutOfWindow = window.pageYOffset < 0;\n\n    if (isViewportOutOfWindow) {\n      window.scrollTo({\n        top: 0,\n        left: 0,\n        behavior: 'smooth',\n      });\n    }\n  },\n});","export const isArray = <T = unknown>(object: any): object is Array<T> => {\n  return object?.constructor?.name === 'Array';\n};","import * as React from 'react';\n\nimport { SharedHelper } from 'src/modules/shared';\n\nimport { Props } from './frame-skelethon.pure.types';\nimport frameStyles from '../../frame.module.css';\n\nconst { isArray } = SharedHelper;\n\nexport class FrameSkelethon extends React.Component<Props> {\n  render() {\n    const { children } = this.props;\n\n    const [\n      header,\n      body,\n      footer,\n    ] = (isArray(children) && children) || [];\n\n    return (\n      <>\n        <div className={frameStyles.header}>\n          {header}\n        </div>\n        <div className={frameStyles.body}>\n          {body}\n        </div>\n        <div className={frameStyles.footer}>\n          {footer}\n        </div>\n      </>\n    );\n  }\n}","import * as React from 'react';\n\nimport styles from './body.module.css';\n\nexport class Body extends React.Component {\n  render() {\n    return (\n      <article className={styles.root}>\n        Body\n      </article>\n    );\n  }\n}","import * as React from 'react';\n\nimport styles from './header.module.css';\n\nexport class Header extends React.Component {\n  render() {\n    return (\n      <header className={styles.root}>\n        Header\n      </header>\n    );\n  }\n}","import * as React from 'react';\nimport SVG from 'react-inlinesvg';\n\nimport { Logo } from 'src/modules/shared/assets/svg';\n\nimport styles from './footer-title.module.css';\n\nexport class FooterTitle extends React.PureComponent {\n  render() {\n    return (\n      <div className={styles.root}>\n        <SVG className={styles.logo} src={Logo} />\n      </div>\n    );\n  }\n}\n","import * as React from 'react';\n\nexport class FooterContent extends React.PureComponent {\n  render() {\n    return (\n      <div>\n\n      </div>\n    );\n  }\n}","export const getOperatorsOf = (element: HTMLDivElement) => ({\n  setBackgroundColor: (ratio: number): void => {\n    const high = getVariable('--high-boundary-color').of(element);\n    const low = getVariable('--low-boundary-color').of(element);\n\n    const red = getUpdatedColorSegment(high.red, low.red, ratio);\n    const green = getUpdatedColorSegment(high.green, low.green, ratio);\n    const blue = getUpdatedColorSegment(high.blue, low.blue, ratio);\n\n    element.style.setProperty('--footer-background-color', `${red}, ${green}, ${blue}`);\n  },\n  setColor: (ratio: number): void => {\n    if (ratio > .8) {\n      element.style.setProperty('--footer-color', 'white');\n    } else {\n      element.style.setProperty('--footer-color', 'black');\n    }\n\n  },\n});\n\n// DOTO: Take out a function to Shared module\nexport const setVariable = (variable: string) => ({\n  of: (element: HTMLDivElement) => ({\n    to: (red: number, green: number, blue:number): void => {\n      element.style.setProperty(variable, `${red}, ${green}, ${blue}`);\n    },\n  }),\n});\n\n// DOTO: Take out a function to Shared module\nexport const getVariable = (variable: string) => ({\n  of: (element: HTMLDivElement): RGB => {\n    const [ red, green, blue ] = getComputedStyle(element).getPropertyValue(variable).trim().split(', ');\n\n    return {\n      red: +red,\n      green: +green,\n      blue: +blue,\n    };\n  },\n});\n\nexport const getUpdatedColorSegment = (highBoundary: number, lowBoundary: number, ratio: number) => {\n  const differenceColorSegment = Math.round((highBoundary - lowBoundary) * ratio);\n\n  return differenceColorSegment + lowBoundary;\n};\n\nexport interface RGB {\n  red: number;\n  green: number;\n  blue: number;\n}","import * as React from 'react';\nimport { Observable } from 'rxjs';\nimport classnames from 'classnames';\n\nimport { FooterTitle, FooterContent } from './components/pure';\nimport { getOperatorsOf } from './footer.module.helper';\nimport { Props, State } from './footer.module.types';\nimport styles from './footer.module.css';\n\nconst subscribeToRatioFlow = (ratioFlow: Observable<number> | null, rootElement: HTMLDivElement | null) => {\n  if (ratioFlow === null) {\n    return null;\n  }\n\n  if (rootElement === null) {\n    throw new Error('Root element is \\'null\\'');\n  }\n\n  const {\n    setBackgroundColor,\n    setColor,\n  } = getOperatorsOf(rootElement);\n\n  ratioFlow.subscribe(ratio => {\n    setBackgroundColor(ratio);\n    setColor(ratio);\n  });\n};\n\nexport class Footer extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      rootRef: React.createRef<HTMLDivElement>(),\n      isSecondRender: false,\n    };\n  }\n\n  static getDerivedStateFromProps(props: Props, state: State) {\n    const { isSecondRender } = state;\n\n    if (isSecondRender === false) {\n      return {\n        isSecondRender: true,\n      };\n    }\n\n    if (isSecondRender) {\n      const { ratioFlow } = props;\n      const {\n        rootRef: {\n          current: rootElement,\n        },\n        ratioSubscription: subscription,\n      } = state;\n\n      if (subscription) {\n        return null;\n      }\n\n      const ratioSubscription = subscribeToRatioFlow(ratioFlow, rootElement);\n\n      return { ratioSubscription };\n    }\n\n    return null;\n  }\n\n  render() {\n    const {\n      targetRef,\n      spacer,\n    } = this.props;\n\n    const {\n      rootRef,\n    } = this.state;\n\n    return (\n      <footer ref={rootRef} className={styles.root}>\n        <div className={classnames(styles.title, spacer)}>\n          <FooterTitle />\n        </div>\n        <div ref={targetRef} className={styles.content}>\n          <FooterContent />\n        </div>\n        <div className={styles.creators}>\n          Создано NaN'ом и Null'ом c любовью\n        </div>\n      </footer>\n    );\n  }\n}\n","import * as React from 'react';\nimport { fromEvent } from 'rxjs';\nimport {\n  map,\n  filter,\n  throttleTime,\n  debounceTime,\n} from 'rxjs/operators';\n\nimport { getOperatorsOf } from './viewport-tracker.module.helper';\nimport {\n  Props,\n  State,\n  TargetProps,\n} from './viewport-tracker.module.types';\n\nexport class ViewportTracker extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      targetRef: React.createRef(),\n      ratioFlow: null,\n    };\n  }\n\n  componentDidMount() {\n    const {\n      targetRef: {\n        current: targetElement,\n      },\n    } = this.state;\n\n    if (!targetElement) {\n      throw new TypeError('\"targetElement\" refers to an non-HTMLElement type object. Check the child element.');\n    }\n\n    const targetDocument: Document | null = targetElement.ownerDocument;\n\n    if (!targetDocument) {\n      throw new TypeError('it\\'s impossible, but your child\\'s \"document\" is null or undefined. (O_O;)');\n    }\n\n    const eventOptions = {\n      passive: true,\n    } as EventListenerOptions;\n\n    const {\n      toHeightInViewport,\n      toRatio,\n      distinctAndOneMore,\n    } = getOperatorsOf(targetElement);\n\n    const ratioFlow = fromEvent<React.ChangeEvent<Document>>(targetDocument, 'scroll', eventOptions)\n      .pipe(\n        throttleTime(50),\n        debounceTime(50),\n        map(toHeightInViewport),\n        map(toRatio),\n        filter(distinctAndOneMore));\n\n    this.setState({\n      ratioFlow,\n    });\n  }\n\n  render() {\n    const {\n      children,\n    } = this.props;\n\n    const {\n      targetRef,\n      ratioFlow,\n    } = this.state;\n\n    const targetProps: TargetProps = {\n      targetRef,\n      ratioFlow,\n    };\n\n    return children(targetProps);\n  }\n}\n","import { EventConverter } from './viewport-tracker.module.types';\n\nexport function getOperatorsOf(element: HTMLDivElement): EventConverter {\n  return {\n    toHeightInViewport: (event) => {\n      const window = event.target.defaultView as Window;\n      const elementSize = element.getBoundingClientRect();\n\n      const isElementAboveViewport = elementSize.bottom < 0;\n      const isElementUnderViewport = elementSize.top >= window.innerHeight;\n\n      if (isElementAboveViewport || isElementUnderViewport) {\n        return 0;\n      }\n\n      const isElementInViewport = elementSize.top >= 0 && elementSize.bottom <= window.innerHeight;\n\n      if (isElementInViewport) {\n        return elementSize.height;\n      }\n\n      const isElementHigherViewport = elementSize.top < 0;\n\n      if (isElementHigherViewport) {\n        const outOfViewport = Math.abs(elementSize.top);\n\n        return elementSize.height - outOfViewport;\n      }\n\n      const isElementLowerViewport = elementSize.bottom > window.innerHeight;\n\n      if (isElementLowerViewport) {\n        const outOfViewport = elementSize.bottom - window.innerHeight;\n\n        return elementSize.height - outOfViewport;\n      }\n\n      throw new Error('Something went wrong with this targetElement....');\n    },\n    toRatio: (value) => {\n      return value / element.getBoundingClientRect().height;\n    },\n    distinctAndOneMore:  (() => {\n      let previousValue: number | null = null;\n\n      return (value: number) => {\n        if (!previousValue) {\n          previousValue = value;\n\n          return true;\n        }\n\n        const targetElementHeight = element.getBoundingClientRect().height;\n\n        const isEqualToPrevious = value === previousValue;\n        const isMinHeight = value === 0;\n        const isMaxHeight = value === targetElementHeight;\n        const isBoundary = isMinHeight || isMaxHeight;\n\n        previousValue = value;\n\n        return !(isEqualToPrevious && isBoundary);\n      };\n    })(),\n  };\n};\n","import * as React from 'react';\n\nimport { Frame, FrameSkelethon } from 'src/modules/frame';\nimport { Body } from 'src/modules/body';\nimport { Header } from 'src/modules/header';\nimport { Footer } from 'src/modules/footer';\nimport { ViewportTracker } from 'src/modules/viewport-tracker';\n\nimport styles from './app.module.css';\n\nexport class App extends React.Component {\n  render() {\n    return (\n      <div className={styles.root}>\n        <Frame>\n          {(spacerProps) => (\n            <FrameSkelethon>\n              <Header />\n              <Body />\n              <ViewportTracker>\n                {(targetProps) => <Footer {...spacerProps} {...targetProps} />}\n              </ViewportTracker>\n            </FrameSkelethon>\n          )}\n        </Frame>\n      </div>\n    );\n  }\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { App } from 'src/modules/app';\n\nimport * as serviceWorker from './serviceWorker';\nimport './index.css';\n\nReactDOM.render(\n  <App />\n  , document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}